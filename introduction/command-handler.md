# Использование загрузчика команд
Загрузчик команд - загружает команды из папки. Очень удобен для сортировки команд и их быстрого обновлений.

## Настройка

```javascript
const loader = new aoijs.LoadCommands(bot)
loader.load(bot.cmd,"./commands/")
```
Создайте папку commands и поместите в неё свой первый файл с расширением `.js`
Для примера, создадим файл `eval.js`
```js
module.exports = {
name: "eval", //Название команды, которое будет использоваться
code: `$eval[$message;yes]
$onlyForIds[$botOwnerId;]`
}
```

Перезагружаем бота для сохранения изменений в главном файле и тестируем. Всё работает!

### Использование обратных вызовов

 Загрузчик команд имеет опцию **"type"** для создания команд с использованием обратных вызовов
 По умолчанию, тип указан **"default"** поэтому вам не придётся его указывать каждый раз при создании команд.

 Для примера, мы создадим команду с обратным вызовом `bot.onMessageDelete()`
 сначала нужно добавить  `bot.onMessageDelete()` в ваш главный файл , и уже после этого создать файл с командой ниже в твоей папке.

```javascript
module.exports = {
   channel:"$channelId",
   name:"deleteLog", // название не всегда обязательно в типах команд
   type:"messageDelete",
   code:`
     Сообщение удалено!
     Сообщение:"$message"`
   }
```

#### Логирование в консоли

* Используя загрузчик команд, вы получаете логи в консоли, где будет указываться: путь файла команды, название команды, тип команды, загружена она или нет.

#### Типы команд

* Вы можете посмотреть все доступные [типы команд](addictions/command-types)

### Обновление команд

* Используя класс загрузчика команд, вы можете использовать специальную функцию: **"$updateCommands"**.

Эта функция обновляет все ваши команды в загрузчике, не требуя перезагрузки бота!

### Мульти-команды в одном файле

* `LoadCommands.load()` Использует `синтакс module.expors`, а это значит, что вы можете создавать несколько команд сразу в одном файле

#### Пример

```javascript
 module.exports = [{
    channel:"$channelId",
    name:"deleteLog", 
    type:"messageDelete",
    code:`
      Сообщение удалено!
      Сообщение:"$message"
`
    },{
  name:"selfkick",
  aliases:["sk","bye","exit"],
  code:`
  $kick[$authorId]
`
}]
```

## Все доступные опции в команде
```js
module.exports = {
name: "eval",
aliases: ["e"],
nonPrefixed: true или false, //Загружает команду без префикса
type: "default", //Тип команды
prototype: "button", //Прототип команды (только для интерактивных взаимодействий)
$if: "v4", //Возвращает старое использование функции $if и подрядных ему
channel: "channelID", //Используемое айди канала
code: `код команды`
}
```
